{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Users/gyucheonheo/Documents/parkpay/pages/parks.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/MyLayout';\nimport Sidebar from '../components/Sidebar';\nimport Alert from '../components/Alert';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\nimport Router, { useRouter } from 'next/router';\n\nvar Parks = function Parks(props) {\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, __jsx(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, \"Orders\"), __jsx(\"div\", {\n    className: \"col-md-7\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, __jsx(\"table\", {\n    className: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, __jsx(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, __jsx(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, __jsx(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, \"Name\"), __jsx(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, \"Region\"), __jsx(\"th\", {\n    scope: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, \"Actions\"))), __jsx(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, props.parks.map(function (park) {\n    return __jsx(\"tr\", {\n      key: park.pid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, park.location_info.name)), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, park.location_info.region)), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, __jsx(Link, {\n      href: \"/parks/[id]\",\n      as: \"/parks/\".concat(park.pid),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      role: \"button\",\n      className: \"btn btn-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"View\")), __jsx(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }), __jsx(Link, {\n      href: \"/parks/update/[id]\",\n      as: \"/parks/update/\".concat(park.pid),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, __jsx(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"Update\")), __jsx(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger\",\n      onClick: function onClick(event) {\n        event.preventDefault();\n        axios[\"delete\"](\"http://localhost:8080/parkpay/parks/\".concat(park.pid)).then(function () {\n          Router.push('/parks');\n        })[\"catch\"](function (err) {\n          console.log(err);\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, \"Delete\")));\n  })))), __jsx(Sidebar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })));\n};\n\nParks.getInitialProps = function _callee() {\n  var res, data;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(fetch('http://localhost:8080/parkpay/parks'));\n\n        case 2:\n          res = _context.sent;\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 5:\n          data = _context.sent;\n          console.log(data.parks ? 'Hello' : data.parks);\n          return _context.abrupt(\"return\", {\n            parks: data\n          });\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Parks;","map":{"version":3,"sources":["/Users/gyucheonheo/Documents/parkpay/pages/parks.js"],"names":["Layout","Sidebar","Alert","Link","fetch","axios","Router","useRouter","Parks","props","parks","map","park","pid","location_info","name","region","event","preventDefault","then","push","err","console","log","getInitialProps","res","json","data"],"mappings":"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","sourcesContent":["import Layout from '../components/MyLayout';\nimport Sidebar from '../components/Sidebar';\nimport Alert from '../components/Alert';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\nimport Router, { useRouter } from 'next/router';\nconst Parks = props => (\n  <Layout>\n    <div className=\"row\">\n      <h3>Orders</h3>\n      <div className=\"col-md-7\">\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Region</th>\n            <th scope=\"col\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n            {props.parks.map(park => (\n                  <tr key={park.pid}>\n                    <td>\n                      <a>{park.location_info.name}</a>\n                    </td>\n                    <td>\n                      <a>{park.location_info.region}</a>\n                    </td>\n                    <td>\n                      <Link href=\"/parks/[id]\" as={`/parks/${park.pid}`}>\n                        <a role=\"button\" className=\"btn btn-info\">View</a>\n                      </Link>\n                      <span/>\n                      <Link href=\"/parks/update/[id]\" as={`/parks/update/${park.pid}`}>\n                        <button type=\"button\" className=\"btn btn-success\">Update</button>\n                      </Link>\n                      <button type=\"button\" className=\"btn btn-danger\" onClick={\n                          event => {\n                          event.preventDefault();\n                          axios.delete(`http://localhost:8080/parkpay/parks/${park.pid}`)\n                          .then(()=>{\n                            Router.push('/parks')\n                          })\n                          .catch(err => {\n                            console.log(err);\n                          })\n                        }\n                      }>Delete</button>\n                    </td>\n                  </tr>\n              ))}\n\n        </tbody>\n      </table>\n      </div>\n      <Sidebar />\n    </div>\n  </Layout>\n);\n\nParks.getInitialProps = async function() {\n  const res = await fetch('http://localhost:8080/parkpay/parks');\n  const data = await res.json();\n  console.log(data.parks ? 'Hello' : data.parks)\n\n  return {\n    parks: data\n  };\n};\n\nexport default Parks;"]},"metadata":{},"sourceType":"module"}