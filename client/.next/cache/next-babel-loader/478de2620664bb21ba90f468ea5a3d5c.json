{"ast":null,"code":"var _jsxFileName = \"/Users/gyucheonheo/Documents/parkpay/pages/search/[keyword].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/MyLayout';\nimport fetch from 'isomorphic-unfetch';\n\nconst Search = props => __jsx(Layout, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 5\n  },\n  __self: this\n}, __jsx(\"h3\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6\n  },\n  __self: this\n}, \"Search : \", props.keyword), __jsx(\"h2\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7\n  },\n  __self: this\n}, \" Park \"), props.parks.map(park => __jsx(\"h2\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, park.location_info.name)), __jsx(\"div\", {\n  class: \"card\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, __jsx(\"div\", {\n  class: \"card-header\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, \"Notes\"), props.notes.map(note => __jsx(\"div\", {\n  class: \"card-body\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 16\n  },\n  __self: this\n}, __jsx(\"h5\", {\n  class: \"card-title\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 17\n  },\n  __self: this\n}, note.title), __jsx(\"p\", {\n  class: \"card-text\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 18\n  },\n  __self: this\n}, note.text), __jsx(\"a\", {\n  href: \"#\",\n  class: \"btn btn-primary\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19\n  },\n  __self: this\n}, \"Go somewhere\")))), __jsx(\"h2\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 23\n  },\n  __self: this\n}, \" Orders\"), props.orders.map(order => __jsx(\"p\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25\n  },\n  __self: this\n}, order.oid)), __jsx(\"h2\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27\n  },\n  __self: this\n}, \" Visitors\"), props.visitors.map(visitor => __jsx(\"p\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 29\n  },\n  __self: this\n}, visitor.vid)));\n\nSearch.getInitialProps = async function (context) {\n  const {\n    keyword\n  } = context.query;\n  const res_park = await fetch(`http://localhost:8080/parkpay/parks?key=${keyword}`);\n  const parks = await res_park.json();\n  const res_note = await fetch(`http://localhost:8080/parkpay/notes?key=${keyword}`);\n  const notes = await res_note.json();\n  const res_order = await fetch(`http://localhost:8080/parkpay/notes?key=${keyword}`);\n  const orders = await res_order.json();\n  const res_visitor = await fetch(`http://localhost:8080/parkpay/visitors?key=${keyword}`);\n  const visitors = await res_visitor.json();\n  return {\n    keyword,\n    parks,\n    notes,\n    orders,\n    visitors\n  };\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/gyucheonheo/Documents/parkpay/pages/search/[keyword].js"],"names":["Layout","fetch","Search","props","keyword","parks","map","park","location_info","name","notes","note","title","text","orders","order","oid","visitors","visitor","vid","getInitialProps","context","query","res_park","json","res_note","res_order","res_visitor"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,2BAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAEA,MAAMC,MAAM,GAAGC,KAAK,IAClB,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAcA,KAAK,CAACC,OAApB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGGD,KAAK,CAACE,KAAN,CAAYC,GAAZ,CAAgBC,IAAI,IACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAKA,IAAI,CAACC,aAAL,CAAmBC,IAAxB,CADH,CAHH,EAME;AAAK,EAAA,KAAK,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACA;AAAK,EAAA,KAAK,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADA,EAIAN,KAAK,CAACO,KAAN,CAAYJ,GAAZ,CAAgBK,IAAI,IAClB;AAAK,EAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAI,EAAA,KAAK,EAAC,YAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAwBA,IAAI,CAACC,KAA7B,CADF,EAEE;AAAG,EAAA,KAAK,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAsBD,IAAI,CAACE,IAA3B,CAFF,EAGE;AAAG,EAAA,IAAI,EAAC,GAAR;AAAY,EAAA,KAAK,EAAC,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,CADF,CAJA,CANF,EAkBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAlBD,EAmBGV,KAAK,CAACW,MAAN,CAAaR,GAAb,CAAiBS,KAAK,IACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAIA,KAAK,CAACC,GAAV,CADD,CAnBH,EAsBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAtBF,EAuBGb,KAAK,CAACc,QAAN,CAAeX,GAAf,CAAmBY,OAAO,IACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAIA,OAAO,CAACC,GAAZ,CADD,CAvBH,CADF;;AA8BAjB,MAAM,CAACkB,eAAP,GAAyB,gBAAeC,OAAf,EAAwB;AAC7C,QAAM;AAAEjB,IAAAA;AAAF,MAAciB,OAAO,CAACC,KAA5B;AACA,QAAMC,QAAQ,GAAG,MAAMtB,KAAK,CAAE,2CAA0CG,OAAQ,EAApD,CAA5B;AACA,QAAMC,KAAK,GAAG,MAAMkB,QAAQ,CAACC,IAAT,EAApB;AACA,QAAMC,QAAQ,GAAG,MAAMxB,KAAK,CAAE,2CAA0CG,OAAQ,EAApD,CAA5B;AACA,QAAMM,KAAK,GAAG,MAAMe,QAAQ,CAACD,IAAT,EAApB;AACA,QAAME,SAAS,GAAG,MAAMzB,KAAK,CAAE,2CAA0CG,OAAQ,EAApD,CAA7B;AACA,QAAMU,MAAM,GAAG,MAAMY,SAAS,CAACF,IAAV,EAArB;AACA,QAAMG,WAAW,GAAG,MAAM1B,KAAK,CAAE,8CAA6CG,OAAQ,EAAvD,CAA/B;AACA,QAAMa,QAAQ,GAAG,MAAMU,WAAW,CAACH,IAAZ,EAAvB;AACA,SAAO;AAAEpB,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBK,IAAAA,KAAlB;AAAyBI,IAAAA,MAAzB;AAAiCG,IAAAA;AAAjC,GAAP;AACH,CAXD;;AAaA,eAAef,MAAf","sourcesContent":["import Layout from '../../components/MyLayout';\nimport fetch from 'isomorphic-unfetch';\n\nconst Search = props => (\n  <Layout>\n    <h3>Search : {props.keyword}</h3>\n    <h2> Park </h2>\n    {props.parks.map(park => (\n        <h2>{park.location_info.name}</h2>\n    ))}\n    <div class=\"card\">\n    <div class=\"card-header\">\n      Notes\n   </div>\n   {props.notes.map(note => (\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">{note.title}</h5>\n        <p class=\"card-text\">{note.text}</p>\n        <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n      </div>\n   ))}\n    </div>   \n   <h2> Orders</h2>\n    {props.orders.map(order=>(\n      <p>{order.oid}</p>\n    ))}\n    <h2> Visitors</h2>\n    {props.visitors.map(visitor=>(\n      <p>{visitor.vid}</p>\n    ))}\n  </Layout>\n);\n\nSearch.getInitialProps = async function(context) {\n    const { keyword } = context.query;\n    const res_park = await fetch(`http://localhost:8080/parkpay/parks?key=${keyword}`);\n    const parks = await res_park.json();\n    const res_note = await fetch(`http://localhost:8080/parkpay/notes?key=${keyword}`);\n    const notes = await res_note.json();\n    const res_order = await fetch(`http://localhost:8080/parkpay/notes?key=${keyword}`);\n    const orders = await res_order.json(); \n    const res_visitor = await fetch(`http://localhost:8080/parkpay/visitors?key=${keyword}`);\n    const visitors = await res_visitor.json()\n    return { keyword, parks, notes, orders, visitors };\n};\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}