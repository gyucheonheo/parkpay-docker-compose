{"version":3,"file":"static/webpack/static/development/pages/parks.js.2883b9569c1dd6c9c556.hot-update.js","sources":["webpack:///./pages/parks.js"],"sourcesContent":["import Layout from '../components/MyLayout';\nimport Sidebar from '../components/Sidebar';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport axios from 'axios';\nimport Router from 'next/router';\nconst Parks = props => (\n  <Layout>\n\n    <div className=\"container\">\n    <h3>Parks</h3>\n    <div className=\"row\">\n      <div className=\"col-md-7\">\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Region</th>\n            <th scope=\"col\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n            {props.parks.map(park => (\n                  <tr key={park.pid}>\n                    <td>\n                      <a>{park.location_info.name}</a>\n                    </td>\n                    <td>\n                      <a>{park.location_info.region}</a>\n                    </td>\n                    <td>\n                      <Link href=\"/parks/[id]\" as={`/parks/${park.pid}`}>\n                        <a role=\"button\" className=\"btn btn-info\">View</a>\n                      </Link>\n                      <span/>\n                      <Link href=\"/parks/update/[id]\" as={`/parks/update/${park.pid}`}>\n                        <button type=\"button\" className=\"btn btn-success\">Update</button>\n                      </Link>\n                      <button type=\"button\" className=\"btn btn-danger\" onClick={\n                          event => {\n                          event.preventDefault();\n                          axios.delete(`http://localhost:8080/parkpay/parks/${park.pid}`)\n                          .then(()=>{\n                            Router.push('/parks')\n                          })\n                          .catch(err => {\n                            console.log(err);\n                          })\n                        }\n                      }>Delete</button>\n                    </td>\n                  </tr>\n              ))}\n\n        </tbody>\n      </table>\n      </div>\n      <Sidebar />\n    </div>\n    </div>\n  </Layout>\n);\n\nParks.getInitialProps = async function() {\n  const res = await fetch('http://localhost:8080/parkpay/parks');\n  const data = await res.json();\n  console.log(data.parks ? 'Hello' : data.parks)\n\n  return {\n    parks: data\n  };\n};\n\nexport default Parks;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhBA;AAmCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAnDA;AACA;AAwDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAMA;AADA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;;;;A","sourceRoot":""}